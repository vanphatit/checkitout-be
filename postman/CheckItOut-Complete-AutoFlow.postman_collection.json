{
    "info": {
        "_postman_id": "checkitout-api-complete",
        "name": "CheckItOut - Complete Auto-Flow Collection",
        "description": {
            "content": "# CheckItOut API - Complete Auto-Flow Collection\\n\\nüöå **Complete test collection v·ªõi auto-flow t·ª´ ƒë·∫ßu ƒë·∫øn cu·ªëi**\\n\\n## üöÄ **AUTO-FLOW FEATURES:**\\n\\n### **C√°ch d√πng:**\\n1. Import collection v√†o Postman\\n2. Click Run Collection ‚Üí Select All ‚Üí Run\\n3. T·∫•t c·∫£ variables t·ª± ƒë·ªông set t·ª´ API responses\\n4. Zero manual work needed!\\n\\n### **Auto-Flow Sequence:**\\n1. ‚úÖ **Login Admin** ‚Üí Set adminToken\\n2. ‚úÖ **Seed All Data** ‚Üí Create sample data\\n3. ‚úÖ **Get Stations** ‚Üí Set stationId1, stationId2\\n4. ‚úÖ **Get Buses** ‚Üí Set busId1\\n5. ‚úÖ **Create Route** ‚Üí Set routeId1\\n6. ‚úÖ **Create Schedule** ‚Üí Set scheduleId1\\n7. ‚úÖ All other APIs work automatically\\n\\n## üìã **Complete Feature Set:**\\n\\n### **Phase 1: Authentication & Setup**\\n- Login Admin v·ªõi auto-token setting\\n- Seed data t·ª± ƒë·ªông\\n- Excel templates generation\\n\\n### **Phase 2: Core Management**\\n- Station Management v·ªõi GPS\\n- Route Management v·ªõi OpenStreetMap\\n- Bus Management v·ªõi seat generation\\n- Schedule Management v·ªõi validation\\n\\n### **Phase 3: Advanced Features**\\n- Excel Import/Export v·ªõi validation\\n- Seat Management v√† booking\\n- User Management v√† profiles\\n- OpenStreetMap integration\\n\\n### **Phase 4: Testing & Verification**\\n- Complete API testing\\n- Error handling verification\\n- Performance monitoring\\n- Data integrity checks\\n\\n**üî• Import ‚Üí Run Collection ‚Üí Complete system test in 2 minutes!**",
            "type": "text/markdown"
        },
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
        {
            "name": "üîê Authentication",
            "item": [
                {
                    "name": "1. Login Admin",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    var jsonData = pm.response.json();",
                                    "    if (jsonData.data && jsonData.data.accessToken) {",
                                    "        pm.environment.set('adminToken', jsonData.data.accessToken);",
                                    "        pm.environment.set('adminId', jsonData.data.user.id);",
                                    "        console.log('‚úÖ Admin login successful');",
                                    "        console.log('Token saved: ' + jsonData.data.accessToken.substring(0, 20) + '...');",
                                    "    }",
                                    "} else {",
                                    "    console.log('‚ùå Admin login failed');",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"admin1@checkitout.com\",\n  \"password\": \"Admin123!\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/login",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "login"
                            ]
                        },
                        "description": "ƒêƒÉng nh·∫≠p v·ªõi t√†i kho·∫£n admin c√≥ s·∫µn t·ª´ seeder.\n\n**Credentials:**\n- Email: admin1@checkitout.com\n- Password: Admin123!\n\n**Response s·∫Ω tr·∫£ v·ªÅ access token ƒë·ªÉ s·ª≠ d·ª•ng cho c√°c API kh√°c.**"
                    }
                },
                {
                    "name": "2. Register Customer",
                    "event": [
                        {
                            "listen": "prerequest",
                            "script": {
                                "exec": [
                                    "// Generate valid customer data",
                                    "const timestamp = Date.now();",
                                    "const randomNum = Math.floor(Math.random() * 10000);",
                                    "",
                                    "// Generate valid email",
                                    "const email = `customer_${timestamp}_${randomNum}@checkitout.test`;",
                                    "pm.environment.set('newCustomerEmail', email);",
                                    "",
                                    "// Generate strong password (8+ chars, uppercase, lowercase, number, special char)",
                                    "const password = `Test@${randomNum}Pass`;",
                                    "pm.environment.set('newCustomerPassword', password);",
                                    "",
                                    "// Generate valid Vietnamese phone number (10 digits, starts with 0)",
                                    "const phonePrefix = ['090', '091', '093', '094', '097', '098', '032', '033', '034', '035', '036', '037', '038', '039', '070', '079', '077', '076', '078', '083', '084', '085', '081', '082', '088', '056', '058', '059'];",
                                    "const prefix = phonePrefix[Math.floor(Math.random() * phonePrefix.length)];",
                                    "const suffix = Math.floor(Math.random() * 10000000).toString().padStart(7, '0');",
                                    "const phone = prefix + suffix;",
                                    "pm.environment.set('newCustomerPhone', phone);",
                                    "",
                                    "// Generate Vietnamese firstName and lastName (2-50 chars each)",
                                    "const firstNames = ['An', 'B√¨nh', 'H√πng', 'D≈©ng', 'Long', 'Linh', 'Mai', 'Lan', 'Hoa', 'Ph∆∞∆°ng', 'Minh', 'Th√†nh', 'Tu·∫•n', 'H·∫£i', 'Anh'];",
                                    "const lastNames = ['Nguy·ªÖn', 'Tr·∫ßn', 'L√™', 'Ph·∫°m', 'Ho√†ng', 'Hu·ª≥nh', 'V√µ', 'Phan', 'V≈©', 'ƒê·∫∑ng'];",
                                    "const firstName = firstNames[Math.floor(Math.random() * firstNames.length)];",
                                    "const lastName = lastNames[Math.floor(Math.random() * lastNames.length)];",
                                    "pm.environment.set('newCustomerFirstName', firstName);",
                                    "pm.environment.set('newCustomerLastName', lastName);",
                                    "",
                                    "console.log('‚ú® Generated valid customer data:');",
                                    "console.log('üìß Email: ' + email);",
                                    "console.log('üîë Password: ' + password);",
                                    "console.log('üì± Phone: ' + phone);",
                                    "console.log('üë§ First Name: ' + firstName);",
                                    "console.log('üë§ Last Name: ' + lastName);"
                                ],
                                "type": "text/javascript"
                            }
                        },
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    console.log('‚úÖ Customer registration successful');",
                                    "    ",
                                    "    // Save credentials to environment for later use",
                                    "    const email = pm.environment.get('newCustomerEmail');",
                                    "    const password = pm.environment.get('newCustomerPassword');",
                                    "    ",
                                    "    pm.environment.set('customerEmail', email);",
                                    "    pm.environment.set('customerPassword', password);",
                                    "    ",
                                    "    console.log('üíæ Saved customer credentials to environment');",
                                    "    console.log('üìß Email: ' + email);",
                                    "    console.log('üîë Password: ' + password);",
                                    "    ",
                                    "    // Try to get customer ID from response",
                                    "    try {",
                                    "        const jsonData = pm.response.json();",
                                    "        if (jsonData.data && jsonData.data._id) {",
                                    "            pm.environment.set('customerId', jsonData.data._id);",
                                    "            console.log('üÜî Customer ID: ' + jsonData.data._id);",
                                    "        }",
                                    "    } catch (e) {",
                                    "        console.log('‚ö†Ô∏è Could not extract customer ID from response');",
                                    "    }",
                                    "} else {",
                                    "    console.log('‚ùå Customer registration failed');",
                                    "    console.log('üìä Status: ' + pm.response.code);",
                                    "    try {",
                                    "        const errorData = pm.response.json();",
                                    "        console.log('üí¨ Error: ' + JSON.stringify(errorData));",
                                    "    } catch (e) {",
                                    "        console.log('üí¨ Error parsing response');",
                                    "    }",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"{{newCustomerEmail}}\",\n  \"password\": \"{{newCustomerPassword}}\",\n  \"firstName\": \"{{newCustomerFirstName}}\",\n  \"lastName\": \"{{newCustomerLastName}}\",\n  \"phone\": \"{{newCustomerPhone}}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/register",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "register"
                            ]
                        },
                        "description": "ƒêƒÉng k√Ω t√†i kho·∫£n kh√°ch h√†ng m·ªõi v·ªõi data ƒë∆∞·ª£c generate t·ª± ƒë·ªông.\n\n**Auto-generated:**\n- Email: Valid format v·ªõi timestamp\n- Password: ƒê·∫°t y√™u c·∫ßu (8+ chars, uppercase, lowercase, number, special char)\n- Phone: S·ªë ƒëi·ªán tho·∫°i Vi·ªát Nam h·ª£p l·ªá (10 s·ªë)\n- First Name: T√™n ti·∫øng Vi·ªát c√≥ d·∫•u (2-50 chars)\n- Last Name: H·ªç ti·∫øng Vi·ªát c√≥ d·∫•u (2-50 chars)\n\n**Credentials ƒë∆∞·ª£c l∆∞u v√†o environment:**\n- `customerEmail`\n- `customerPassword`\n- `customerId`"
                    }
                },
                {
                    "name": "3. Login Customer",
                    "event": [
                        {
                            "listen": "prerequest",
                            "script": {
                                "exec": [
                                    "// Check if we have registered customer credentials",
                                    "const regEmail = pm.environment.get('customerEmail');",
                                    "const regPassword = pm.environment.get('customerPassword');",
                                    "",
                                    "if (regEmail && regPassword) {",
                                    "    console.log('‚úÖ Using registered customer credentials');",
                                    "    console.log('üìß Email: ' + regEmail);",
                                    "} else {",
                                    "    console.log('‚ö†Ô∏è No registered credentials found, using default seeded account');",
                                    "    pm.environment.set('customerEmail', 'user1@checkitout.com');",
                                    "    pm.environment.set('customerPassword', 'User123!');",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        },
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    var jsonData = pm.response.json();",
                                    "    if (jsonData.data && jsonData.data.accessToken) {",
                                    "        pm.environment.set('customerToken', jsonData.data.accessToken);",
                                    "        pm.environment.set('customerId', jsonData.data.user.id);",
                                    "        console.log('‚úÖ Customer login successful');",
                                    "        console.log('üîë Token: ' + jsonData.data.accessToken.substring(0, 20) + '...');",
                                    "        console.log('üÜî Customer ID: ' + jsonData.data.user.id);",
                                    "    }",
                                    "} else {",
                                    "    console.log('‚ùå Customer login failed');",
                                    "    console.log('üìä Status: ' + pm.response.code);",
                                    "    try {",
                                    "        const errorData = pm.response.json();",
                                    "        console.log('üí¨ Error: ' + JSON.stringify(errorData));",
                                    "    } catch (e) {",
                                    "        console.log('üí¨ Error parsing response');",
                                    "    }",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"{{customerEmail}}\",\n  \"password\": \"{{customerPassword}}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/login",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "login"
                            ]
                        },
                        "description": "ƒêƒÉng nh·∫≠p v·ªõi t√†i kho·∫£n customer.\n\n**Auto-detection:**\n- N·∫øu v·ª´a register (c√≥ `customerEmail` v√† `customerPassword`): D√πng credentials v·ª´a t·∫°o\n- N·∫øu kh√¥ng: D√πng default seeded account (user1@checkitout.com)\n\n**Saves to environment:**\n- `customerToken` - Access token\n- `customerId` - User ID"
                    }
                }
            ],
            "description": "Authentication endpoints ƒë·ªÉ l·∫•y token cho c√°c API calls."
        },
        {
            "name": "üå± Data Seeding",
            "item": [
                {
                    "name": "1. Seed All Data",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200 || pm.response.code === 201) {",
                                    "    var jsonData = pm.response.json();",
                                    "    console.log('‚úÖ Data seeding completed successfully');",
                                    "    console.log('üìä Seeded data summary:');",
                                    "    if (jsonData.data) {",
                                    "        console.log('- Stations: ' + (jsonData.data.stations || 'N/A'));",
                                    "        console.log('- Buses: ' + (jsonData.data.buses || 'N/A'));",
                                    "        console.log('- Routes: ' + (jsonData.data.routes || 'N/A'));",
                                    "        console.log('- Schedules: ' + (jsonData.data.schedules || 'N/A'));",
                                    "    }",
                                    "} else {",
                                    "    console.log('‚ùå Data seeding failed');",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{adminToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": ""
                        },
                        "url": {
                            "raw": "{{baseUrl}}/seeder/seed-all",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "seeder",
                                "seed-all"
                            ]
                        },
                        "description": "T·∫°o data m·∫´u bao g·ªìm:\n- 10 stations (tr·∫°m xe)\n- 20 buses (xe kh√°ch)\n- 15 routes (tuy·∫øn ƒë∆∞·ªùng) \n- 240+ schedules (l·ªãch tr√¨nh)\n\n**Ch·ªâ admin m·ªõi c√≥ quy·ªÅn th·ª±c hi·ªán.**"
                    }
                },
                {
                    "name": "2. Seed Excel Templates",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200 || pm.response.code === 201) {",
                                    "    var jsonData = pm.response.json();",
                                    "    console.log('‚úÖ Excel templates created successfully');",
                                    "    console.log('üìä Template files:');",
                                    "    if (jsonData.data && jsonData.data.templates) {",
                                    "        jsonData.data.templates.forEach(function(template) {",
                                    "            console.log('- ' + template);",
                                    "        });",
                                    "    }",
                                    "    if (jsonData.data && jsonData.data.usage) {",
                                    "        console.log('üìù Usage guide:');",
                                    "        console.log('- Simple: ' + jsonData.data.usage.simple);",
                                    "        console.log('- Comprehensive: ' + jsonData.data.usage.comprehensive);",
                                    "    }",
                                    "} else {",
                                    "    console.log('‚ùå Excel templates creation failed');",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{adminToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": ""
                        },
                        "url": {
                            "raw": "{{baseUrl}}/seeder/seed-excel-templates",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "seeder",
                                "seed-excel-templates"
                            ]
                        },
                        "description": "T·∫°o Excel templates cho import l·ªãch tr√¨nh:\n\n**Templates ƒë∆∞·ª£c t·∫°o:**\n- `lich_trinh_import_template.xlsx`: Template ƒë∆°n gi·∫£n v·ªõi d·ªØ li·ªáu m·∫´u\n- `lich_trinh_comprehensive_template.xlsx`: Template ƒë·∫ßy ƒë·ªß v·ªõi h∆∞·ªõng d·∫´n chi ti·∫øt\n\n**Features:**\n- üìã H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng chi ti·∫øt\n- üìä Danh s√°ch tuy·∫øn ƒë∆∞·ªùng c√≥ s·∫µn\n- üöå Danh s√°ch xe kh·∫£ d·ª•ng\n- üí° D·ªØ li·ªáu m·∫´u th·ª±c t·∫ø\n- üé® Format Excel chu·∫©n v·ªõi styling\n\n**Ch·ªâ admin m·ªõi c√≥ quy·ªÅn th·ª±c hi·ªán.**"
                    }
                },
                {
                    "name": "3. Generate Geocoded Vietnam Excel",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test(\"Generate geocoded Excel success\", function () {",
                                    "    pm.response.to.have.status(201);",
                                    "});",
                                    "",
                                    "const responseData = pm.response.json();",
                                    "console.log('üìä Generated file:', responseData.fileName);",
                                    "console.log('üåç Geocoded stations:', responseData.stats?.geocodedStations);",
                                    "console.log('üìç Total stations:', responseData.stats?.totalStations);"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{adminToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": ""
                        },
                        "url": {
                            "raw": "{{baseUrl}}/seeder/generate-real-data-excel",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "seeder",
                                "generate-real-data-excel"
                            ]
                        },
                        "description": "T·∫°o file Excel v·ªõi d·ªØ li·ªáu th·ª±c t·∫ø c√≥ t·ªça ƒë·ªô GPS t·ª´ geocoding API:\n\n**Features ƒë∆∞·ª£c t·∫°o:**\n- üåç Real geocoded coordinates t·ª´ Nominatim API\n- üöå Comprehensive Vietnamese bus data\n- üìç 74+ stations v·ªõi GPS coordinates th·∫≠t\n- üõ£Ô∏è 50+ routes v·ªõi th√¥ng tin chi ti·∫øt\n- üìÖ 150+ schedules v·ªõi t√†i x·∫ø Vi·ªát Nam\n- üíæ File Excel 138KB v·ªõi 6 sheets ƒë·∫ßy ƒë·ªß\n\n**Geocoding Features:**\n- ‚úÖ FREE OpenStreetMap Nominatim API\n- ‚úÖ Rate limiting (1 req/sec)\n- ‚úÖ Fallback coordinates cho Vietnam\n- ‚úÖ Real Vietnamese addresses\n- ‚úÖ Authentic TPHCM-ƒê√† L·∫°t route\n\n**Generated File Contains:**\n- B·∫øn xe Mi·ªÅn T√¢y, TP.HCM v·ªõi GPS th·∫≠t\n- Ch·ª£ B·∫øn Th√†nh v·ªõi coordinates ch√≠nh x√°c\n- S√¢n bay T√¢n S∆°n Nh·∫•t geocoded\n- 20+ Vietnamese bus terminals\n- Complete route data with distances\n\n**Ch·ªâ admin m·ªõi c√≥ quy·ªÅn th·ª±c hi·ªán.**"
                    }
                }
            ],
            "description": "Endpoints ƒë·ªÉ t·∫°o data m·∫´u cho h·ªá th·ªëng v·ªõi geocoding th·ª±c t·∫ø."
        },
        {
            "name": "üöè Station Management",
            "item": [
                {
                    "name": "1. Get All Stations",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    var jsonData = pm.response.json();",
                                    "    if (jsonData.data && jsonData.data.data && jsonData.data.data.length > 0) {",
                                    "        var firstStation = jsonData.data.data[0];",
                                    "        pm.environment.set('stationId1', firstStation._id);",
                                    "        console.log('‚úÖ Got stations list');",
                                    "        console.log('üìç First station: ' + firstStation.name);",
                                    "        console.log('üÜî Station ID saved: ' + firstStation._id);",
                                    "        ",
                                    "        if (jsonData.data.data.length > 1) {",
                                    "            var secondStation = jsonData.data.data[1];",
                                    "            pm.environment.set('stationId2', secondStation._id);",
                                    "            console.log('üìç Second station: ' + secondStation.name);",
                                    "            console.log('üÜî Station ID2 saved: ' + secondStation._id);",
                                    "        }",
                                    "    }",
                                    "} else {",
                                    "    console.log('‚ùå Failed to get stations');",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/stations?page=1&limit=10&search=&sortBy=name&sortOrder=asc",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "stations"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1",
                                    "description": "Trang hi·ªán t·∫°i"
                                },
                                {
                                    "key": "limit",
                                    "value": "10",
                                    "description": "S·ªë b·∫£n ghi m·ªói trang"
                                },
                                {
                                    "key": "search",
                                    "value": "",
                                    "description": "T√¨m ki·∫øm theo t√™n ho·∫∑c ƒë·ªãa ch·ªâ"
                                },
                                {
                                    "key": "sortBy",
                                    "value": "name",
                                    "description": "S·∫Øp x·∫øp theo tr∆∞·ªùng (name, createdAt, etc.)"
                                },
                                {
                                    "key": "sortOrder",
                                    "value": "asc",
                                    "description": "Th·ª© t·ª± s·∫Øp x·∫øp (asc/desc)"
                                }
                            ]
                        },
                        "description": "L·∫•y danh s√°ch t·∫•t c·∫£ tr·∫°m xe v·ªõi ph√¢n trang.\n\n**Response bao g·ªìm:**\n- Danh s√°ch tr·∫°m v·ªõi response DTO format\n- Pagination metadata\n- T·ªça ƒë·ªô GPS c·ªßa m·ªói tr·∫°m\n\n**Query Parameters:**\n- `page`: Trang hi·ªán t·∫°i\n- `limit`: S·ªë b·∫£n ghi m·ªói trang\n- `search`: T√¨m ki·∫øm theo t√™n/ƒë·ªãa ch·ªâ\n- `sortBy`: Tr∆∞·ªùng s·∫Øp x·∫øp\n- `sortOrder`: Th·ª© t·ª± (asc/desc)"
                    }
                },
                {
                    "name": "2. Create New Station",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    var jsonData = pm.response.json();",
                                    "    if (jsonData.data && jsonData.data._id) {",
                                    "        pm.environment.set('newStationId', jsonData.data._id);",
                                    "        console.log('‚úÖ Station created successfully');",
                                    "        console.log('üìç Station: ' + jsonData.data.name);",
                                    "        console.log('üÜî ID: ' + jsonData.data._id);",
                                    "    }",
                                    "} else {",
                                    "    console.log('‚ùå Failed to create station');",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{adminToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"B·∫øn xe Test Station\",\n  \"address\": \"123 ƒê∆∞·ªùng Test, Qu·∫≠n 1, TP.HCM\",\n  \"description\": \"Tr·∫°m test ƒë∆∞·ª£c t·∫°o t·ª´ Postman\",\n  \"longitude\": 106.6297,\n  \"latitude\": 10.8231,\n  \"facilities\": [\"wifi\", \"parking\", \"restroom\", \"food_court\"]\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/stations",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "stations"
                            ]
                        },
                        "description": "T·∫°o tr·∫°m xe m·ªõi.\n\n**Y√™u c·∫ßu quy·ªÅn:** ADMIN ho·∫∑c SELLER\n\n**Fields:**\n- `name`: T√™n tr·∫°m (required)\n- `address`: ƒê·ªãa ch·ªâ (required)\n- `longitude/latitude`: T·ªça ƒë·ªô GPS (required)\n- `description`: M√¥ t·∫£ (optional)\n- `facilities`: C√°c ti·ªán √≠ch (optional)"
                    }
                },
                {
                    "name": "3. Create Station from Address",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{adminToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"B·∫øn xe OpenStreetMap\",\n  \"address\": \"B·∫øn xe Mi·ªÅn ƒê√¥ng, TP.HCM\",\n  \"description\": \"Tr·∫°m ƒë∆∞·ª£c t·∫°o t·ª´ ƒë·ªãa ch·ªâ s·ª≠ d·ª•ng OpenStreetMap\",\n  \"facilities\": [\"wifi\", \"parking\", \"restroom\"]\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/stations/from-address",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "stations",
                                "from-address"
                            ]
                        },
                        "description": "T·∫°o tr·∫°m t·ª´ ƒë·ªãa ch·ªâ s·ª≠ d·ª•ng OpenStreetMap geocoding.\n\n**H·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông:**\n- T√¨m t·ªça ƒë·ªô t·ª´ ƒë·ªãa ch·ªâ\n- L·∫•y th√¥ng tin chi ti·∫øt t·ª´ OSM\n- T·∫°o tr·∫°m v·ªõi metadata ƒë·∫ßy ƒë·ªß"
                    }
                },
                {
                    "name": "4. Search Stations",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/stations/search?q=Mi·ªÅn",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "stations",
                                "search"
                            ],
                            "query": [
                                {
                                    "key": "q",
                                    "value": "Mi·ªÅn",
                                    "description": "T·ª´ kh√≥a t√¨m ki·∫øm"
                                }
                            ]
                        },
                        "description": "T√¨m ki·∫øm tr·∫°m theo t√™n ho·∫∑c ƒë·ªãa ch·ªâ.\n\n**T√¨m ki·∫øm fuzzy matching kh√¥ng ph√¢n bi·ªát hoa th∆∞·ªùng.**"
                    }
                },
                {
                    "name": "5. Get Station Details",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/stations/{{stationId1}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "stations",
                                "{{stationId1}}"
                            ]
                        },
                        "description": "L·∫•y th√¥ng tin chi ti·∫øt c·ªßa 1 tr·∫°m.\n\n**Response bao g·ªìm t·∫•t c·∫£ th√¥ng tin:**\n- T·ªça ƒë·ªô GPS\n- Ti·ªán √≠ch c√≥ s·∫µn\n- Metadata t·ª´ OpenStreetMap"
                    }
                },
                {
                    "name": "6. Calculate Distance Between Stations",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/stations/distance/{{stationId1}}/{{stationId2}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "stations",
                                "distance",
                                "{{stationId1}}",
                                "{{stationId2}}"
                            ]
                        },
                        "description": "T√≠nh kho·∫£ng c√°ch gi·ªØa 2 tr·∫°m.\n\n**Response DistanceResponseDto:**\n- Th√¥ng tin 2 tr·∫°m\n- Kho·∫£ng c√°ch (km)\n- ƒê∆°n v·ªã ƒëo"
                    }
                },
                {
                    "name": "7. Find Nearby Stations",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/stations/nearby?longitude=106.6297&latitude=10.8231&maxDistance=5000",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "stations",
                                "nearby"
                            ],
                            "query": [
                                {
                                    "key": "longitude",
                                    "value": "106.6297"
                                },
                                {
                                    "key": "latitude",
                                    "value": "10.8231"
                                },
                                {
                                    "key": "maxDistance",
                                    "value": "5000",
                                    "description": "Kho·∫£ng c√°ch t·ªëi ƒëa (m√©t)"
                                }
                            ]
                        },
                        "description": "T√¨m c√°c tr·∫°m g·∫ßn v·ªã tr√≠ ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh.\n\n**S·ª≠ d·ª•ng MongoDB geospatial queries.**"
                    }
                }
            ],
            "description": "Qu·∫£n l√Ω tr·∫°m xe v·ªõi ƒë·∫ßy ƒë·ªß CRUD operations v√† geospatial features."
        },
        {
            "name": "üõ£Ô∏è Route Management",
            "item": [
                {
                    "name": "1. Get All Routes",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    var jsonData = pm.response.json();",
                                    "    if (jsonData.data && jsonData.data.length > 0) {",
                                    "        var firstRoute = jsonData.data[0];",
                                    "        pm.environment.set('routeId1', firstRoute._id);",
                                    "        console.log('‚úÖ Got routes list');",
                                    "        console.log('üõ£Ô∏è First route: ' + firstRoute.name);",
                                    "        console.log('üÜî Route ID saved: ' + firstRoute._id);",
                                    "    }",
                                    "} else {",
                                    "    console.log('‚ùå Failed to get routes');",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/routes?page=1&limit=10",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "routes"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "10"
                                }
                            ]
                        },
                        "description": "L·∫•y danh s√°ch t·∫•t c·∫£ tuy·∫øn ƒë∆∞·ªùng.\n\n**Response RouteResponseDto bao g·ªìm:**\n- Th√¥ng tin tr·∫°m kh·ªüi h√†nh/ƒë·∫øn\n- Kho·∫£ng c√°ch v√† th·ªùi gian\n- Gi√° v√©\n- Gi·ªù ho·∫°t ƒë·ªông"
                    }
                },
                {
                    "name": "2. Create New Route",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    var jsonData = pm.response.json();",
                                    "    if (jsonData.data && jsonData.data._id) {",
                                    "        pm.environment.set('newRouteId', jsonData.data._id);",
                                    "        console.log('‚úÖ Route created successfully');",
                                    "        console.log('üõ£Ô∏è Route: ' + jsonData.data.name);",
                                    "        console.log('üÜî ID: ' + jsonData.data._id);",
                                    "    }",
                                    "} else {",
                                    "    console.log('‚ùå Failed to create route');",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{adminToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Test Route - Manual\",\n  \"description\": \"Tuy·∫øn test ƒë∆∞·ª£c t·∫°o th·ªß c√¥ng\",\n  \"stationIds\": [\"{{stationId1}}\", \"{{stationId2}}\"],\n  \"distance\": 180,\n  \"etd\": \"08:00\",\n  \"estimatedDuration\": 240,\n  \"basePrice\": 80000,\n  \"pricePerKm\": 1500,\n  \"operatingHours\": {\n    \"start\": \"05:00\",\n    \"end\": \"22:00\"\n  },\n  \"operatingDays\": [\"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\"]\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/routes",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "routes"
                            ]
                        },
                        "description": "T·∫°o tuy·∫øn ƒë∆∞·ªùng m·ªõi th·ªß c√¥ng.\n\n**Y√™u c·∫ßu quy·ªÅn:** ADMIN ho·∫∑c SELLER\n\n**Fields b·∫Øt bu·ªôc:**\n- `stationIds`: M·∫£ng ID tr·∫°m (√≠t nh·∫•t 2 tr·∫°m)\n- `distance`: Kho·∫£ng c√°ch (km)\n- `etd`: Gi·ªù xu·∫•t ph√°t tham chi·∫øu (HH:mm)\n- `estimatedDuration`: Th·ªùi gian di chuy·ªÉn (ph√∫t)"
                    }
                },
                {
                    "name": "3. Auto Calculate Route",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{adminToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Test Route - Auto Calculate\",\n  \"description\": \"Tuy·∫øn test v·ªõi t√≠nh to√°n t·ª± ƒë·ªông\",\n  \"stationIds\": [\"{{stationId1}}\", \"{{stationId2}}\"],\n  \"etd\": \"07:30\",\n  \"basePrice\": 100000,\n  \"pricePerKm\": 2000,\n  \"operatingHours\": {\n    \"start\": \"06:00\",\n    \"end\": \"23:00\"\n  },\n  \"operatingDays\": [\"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\", \"sunday\"]\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/routes/auto-calculate",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "routes",
                                "auto-calculate"
                            ]
                        },
                        "description": "T·∫°o tuy·∫øn v·ªõi t√≠nh to√°n t·ª± ƒë·ªông kho·∫£ng c√°ch v√† th·ªùi gian t·ª´ OpenStreetMap.\n\n**H·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông:**\n- T√≠nh kho·∫£ng c√°ch th·ª±c t·∫ø\n- ∆Ø·ªõc t√≠nh th·ªùi gian di chuy·ªÉn\n- L·∫•y th√¥ng tin route t·ª´ OSM\n\n**Y√™u c·∫ßu:**\n- `stationIds`: M·∫£ng tr·∫°m theo th·ª© t·ª± h√†nh tr√¨nh\n- `etd`: Gi·ªù tham chi·∫øu (HH:mm)"
                    }
                },
                {
                    "name": "4. Get Routes by Stations",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/routes/by-stations?origin={{stationId1}}&destination={{stationId2}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "routes",
                                "by-stations"
                            ],
                            "query": [
                                {
                                    "key": "origin",
                                    "value": "{{stationId1}}"
                                },
                                {
                                    "key": "destination",
                                    "value": "{{stationId2}}"
                                }
                            ]
                        },
                        "description": "T√¨m tuy·∫øn ƒë∆∞·ªùng gi·ªØa 2 tr·∫°m c·ª• th·ªÉ."
                    }
                },
                {
                    "name": "5. Recalculate Route Distance",
                    "request": {
                        "method": "PATCH",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{adminToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/routes/{{routeId1}}/recalculate",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "routes",
                                "{{routeId1}}",
                                "recalculate"
                            ]
                        },
                        "description": "T√≠nh l·∫°i kho·∫£ng c√°ch v√† th·ªùi gian cho tuy·∫øn ƒë∆∞·ªùng t·ª´ OpenStreetMap.\n\n**H·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông:**\n- C·∫≠p nh·∫≠t kho·∫£ng c√°ch th·ª±c t·∫ø\n- T√≠nh l·∫°i th·ªùi gian di chuy·ªÉn\n- L·∫•y th√¥ng tin route m·ªõi t·ª´ OSM"
                    }
                }
            ],
            "description": "Qu·∫£n l√Ω tuy·∫øn ƒë∆∞·ªùng v·ªõi auto-calculation t·ª´ OpenStreetMap."
        },
        {
            "name": "üöå Bus Management",
            "item": [
                {
                    "name": "1. Get All Buses",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    var jsonData = pm.response.json();",
                                    "    if (jsonData.data && jsonData.data.length > 0) {",
                                    "        var firstBus = jsonData.data[0];",
                                    "        pm.environment.set('busId1', firstBus._id);",
                                    "        console.log('‚úÖ Got buses list');",
                                    "        console.log('üöå First bus: ' + firstBus.licensePlate);",
                                    "        console.log('üÜî Bus ID saved: ' + firstBus._id);",
                                    "    }",
                                    "} else {",
                                    "    console.log('‚ùå Failed to get buses');",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/buses?page=1&limit=10",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "buses"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "10"
                                }
                            ]
                        },
                        "description": "L·∫•y danh s√°ch t·∫•t c·∫£ xe kh√°ch.\n\n**Response bao g·ªìm:**\n- Bi·ªÉn s·ªë xe\n- Lo·∫°i xe (gh·∫ø ng·ªìi/gi∆∞·ªùng n·∫±m)\n- S·ªë gh·∫ø\n- Tr·∫°ng th√°i"
                    }
                },
                {
                    "name": "2. Create New Bus",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    var jsonData = pm.response.json();",
                                    "    if (jsonData.data && jsonData.data._id) {",
                                    "        pm.environment.set('busId1', jsonData.data._id);",
                                    "        console.log('‚úÖ Bus created successfully');",
                                    "        console.log('üöå Bus: ' + jsonData.data.licensePlate);",
                                    "        console.log('üÜî ID: ' + jsonData.data._id);",
                                    "    }",
                                    "} else {",
                                    "    console.log('‚ùå Failed to create bus');",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{adminToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"busNo\": \"BUS-TEST01\",\n  \"plateNo\": \"51B-TEST01\",\n  \"type\": \"SLEEPER\",\n  \"vacancy\": 28,\n  \"driverName\": \"Nguy·ªÖn VƒÉn T√†i X·∫ø\",\n  \"status\": \"AVAILABLE\",\n  \"images\": []\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/buses",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "buses"
                            ]
                        },
                        "description": "T·∫°o xe kh√°ch m·ªõi.\n\n**Bus Types:**\n- `standard`: Gh·∫ø ng·ªìi th∆∞·ªùng\n- `sleeper`: Gi∆∞·ªùng n·∫±m\n- `limousine`: Limousine cao c·∫•p\n\n**H·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông t·∫°o gh·∫ø cho xe.**"
                    }
                },
                {
                    "name": "3. Get Bus Details",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{adminToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/buses/{{busId1}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "buses",
                                "{{busId1}}"
                            ]
                        },
                        "description": "L·∫•y th√¥ng tin chi ti·∫øt xe kh√°ch."
                    }
                },
                {
                    "name": "4. Update Bus Status",
                    "request": {
                        "method": "PATCH",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{adminToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"status\": \"MAINTENANCE\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/buses/{{busId1}}/status",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "buses",
                                "{{busId1}}",
                                "status"
                            ]
                        },
                        "description": "C·∫≠p nh·∫≠t tr·∫°ng th√°i xe kh√°ch.\n\n**Status options:**\n- `AVAILABLE`: Xe s·∫µn s√†ng\n- `MAINTENANCE`: ƒêang b·∫£o tr√¨\n- `OUT_OF_SERVICE`: Ng·ª´ng ho·∫°t ƒë·ªông"
                    }
                },
                {
                    "name": "5. Import Buses from Excel",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{adminToken}}"
                            }
                        ],
                        "body": {
                            "mode": "formdata",
                            "formdata": [
                                {
                                    "key": "file",
                                    "type": "file",
                                    "src": []
                                }
                            ]
                        },
                        "url": {
                            "raw": "{{baseUrl}}/buses/import",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "buses",
                                "import"
                            ]
                        },
                        "description": "Import danh s√°ch xe kh√°ch t·ª´ file Excel.\n\n**Format Excel c·∫ßn:**\n- Bi·ªÉn s·ªë xe\n- Lo·∫°i xe (STANDARD/SLEEPER/LIMOUSINE)\n- S·ªë gh·∫ø\n- T√†i x·∫ø\n- Tr·∫°ng th√°i"
                    }
                }
            ],
            "description": "Qu·∫£n l√Ω ƒë·ªôi xe kh√°ch v·ªõi nhi·ªÅu lo·∫°i xe kh√°c nhau."
        },
        {
            "name": "üìÖ Scheduling Management",
            "item": [
                {
                    "name": "1. Get All Schedules",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    var jsonData = pm.response.json();",
                                    "    if (jsonData.data && jsonData.data.length > 0) {",
                                    "        var firstSchedule = jsonData.data[0];",
                                    "        pm.environment.set('scheduleId1', firstSchedule._id);",
                                    "        console.log('‚úÖ Got schedules list');",
                                    "        console.log('üìÖ First schedule ID: ' + firstSchedule._id);",
                                    "        console.log('üïê Departure: ' + firstSchedule.etd);",
                                    "    }",
                                    "} else {",
                                    "    console.log('‚ùå Failed to get schedules');",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/scheduling?page=1&limit=10",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "scheduling"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "10"
                                }
                            ]
                        },
                        "description": "L·∫•y danh s√°ch t·∫•t c·∫£ l·ªãch tr√¨nh.\n\n**Response SchedulingResponseDto bao g·ªìm:**\n- Th√¥ng tin tuy·∫øn ƒë∆∞·ªùng\n- Th√¥ng tin xe v√† t√†i x·∫ø\n- S·ªë gh·∫ø available/booked\n- Tr·∫°ng th√°i l·ªãch tr√¨nh"
                    }
                },
                {
                    "name": "2. Create New Schedule",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    var jsonData = pm.response.json();",
                                    "    if (jsonData.data && jsonData.data._id) {",
                                    "        pm.environment.set('newScheduleId', jsonData.data._id);",
                                    "        console.log('‚úÖ Schedule created successfully');",
                                    "        console.log('üìÖ Schedule ID: ' + jsonData.data._id);",
                                    "        console.log('üïê Departure: ' + jsonData.data.etd);",
                                    "    }",
                                    "} else {",
                                    "    console.log('‚ùå Failed to create schedule');",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{adminToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"routeId\": \"{{routeId1}}\",\n  \"busIds\": [\"{{busId1}}\"],\n  \"etd\": \"08:00\",\n  \"departureDate\": \"2025-12-25\",\n  \"eta\": \"12:00\",\n  \"arrivalDate\": \"2025-12-25\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/scheduling",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "scheduling"
                            ]
                        },
                        "description": "T·∫°o l·ªãch tr√¨nh m·ªõi.\n\n**Y√™u c·∫ßu quy·ªÅn:** ADMIN ho·∫∑c SELLER\n\n**H·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông:**\n- T√≠nh s·ªë gh·∫ø available t·ª´ xe\n- Set tr·∫°ng th√°i scheduled\n- Validate business logic"
                    }
                },
                {
                    "name": "3. Get Available Schedules",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/scheduling/available?routeId={{routeId1}}&date=2025-12-25",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "scheduling",
                                "available"
                            ],
                            "query": [
                                {
                                    "key": "routeId",
                                    "value": "{{routeId1}}"
                                },
                                {
                                    "key": "date",
                                    "value": "2025-12-25"
                                }
                            ]
                        },
                        "description": "T√¨m l·ªãch tr√¨nh c√≤n ch·ªó theo ti√™u ch√≠.\n\n**Filters:**\n- `departureDate`: Ng√†y kh·ªüi h√†nh\n- `departureStationId`: Tr·∫°m ƒëi\n- `arrivalStationId`: Tr·∫°m ƒë·∫øn\n- `minPrice/maxPrice`: Kho·∫£ng gi√°"
                    }
                },
                {
                    "name": "4. Get Schedules by Route",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/scheduling/by-route/{{routeId1}}?page=1&limit=5",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "scheduling",
                                "by-route",
                                "{{routeId1}}"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "5"
                                }
                            ]
                        },
                        "description": "L·∫•y t·∫•t c·∫£ l·ªãch tr√¨nh c·ªßa 1 tuy·∫øn ƒë∆∞·ªùng."
                    }
                }
            ],
            "description": "Qu·∫£n l√Ω l·ªãch tr√¨nh xe v·ªõi th√¥ng tin t√†i x·∫ø v√† gh·∫ø."
        },
        {
            "name": "üìä Excel Import/Export",
            "item": [
                {
                    "name": "1. Download Excel Template",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{adminToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/scheduling/export/template",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "scheduling",
                                "export",
                                "template"
                            ]
                        },
                        "description": "T·∫£i template Excel ƒë·ªÉ import l·ªãch tr√¨nh.\n\n**Response:**\n- File Excel (.xlsx) v·ªõi format chu·∫©n\n- D·ªØ li·ªáu m·∫´u th·ª±c t·∫ø\n- H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng trong file\n\n**Columns:**\n- T√™n tuy·∫øn ƒë∆∞·ªùng\n- Bi·ªÉn s·ªë xe  \n- Ng√†y kh·ªüi h√†nh\n- Gi·ªù kh·ªüi h√†nh\n- Gi·ªù ƒë·∫øn\n- Gi√° v√©\n- T√™n t√†i x·∫ø\n- SƒêT t√†i x·∫ø\n- GPLX\n- Ghi ch√∫\n\n**Y√™u c·∫ßu quy·ªÅn:** ADMIN ho·∫∑c SELLER"
                    }
                },
                {
                    "name": "2. Validate Excel Data",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Validate Excel request success', function () {",
                                    "    pm.expect(pm.response.code).to.eql(200);",
                                    "});",
                                    "",
                                    "const jsonData = pm.response.json();",
                                    "pm.environment.set('excelIsValid', jsonData.isValid);",
                                    "pm.environment.set('excelFirstRoute', jsonData.preview?.[0]?.routeName || '');",
                                    "",
                                    "pm.test('Excel file parsed', function () {",
                                    "    pm.expect(Array.isArray(jsonData.preview)).to.be.true;",
                                    "});",
                                    "",
                                    "if (!jsonData.isValid && jsonData.errors?.length) {",
                                    "    console.warn('‚ùå Excel validation errors:', jsonData.errors);",
                                    "} else {",
                                    "    console.log('‚úÖ Excel validation completed, ready to import');",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{adminToken}}"
                            }
                        ],
                        "body": {
                            "mode": "formdata",
                            "formdata": [
                                {
                                    "key": "file",
                                    "type": "file",
                                    "src": "uploads/templates/lich_trinh_import_template.xlsx",
                                    "description": "Excel file to validate. Use the template downloaded from step 1."
                                }
                            ]
                        },
                        "url": {
                            "raw": "{{baseUrl}}/scheduling/import/validate",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "scheduling",
                                "import",
                                "validate"
                            ]
                        },
                        "description": "Validate Excel file tr∆∞·ªõc khi import th·ª±c s·ª±.\n\n**Features:**\n- ‚úÖ Ki·ªÉm tra format d·ªØ li·ªáu\n- ‚úÖ Validate business rules\n- ‚úÖ Check tuy·∫øn/xe t·ªìn t·∫°i\n- ‚úÖ Preview d·ªØ li·ªáu\n- ‚úÖ Detailed error reports\n\n**Response:**\n- `isValid`: Boolean validation result\n- `errors`: Array of error messages\n- `preview`: First 5 rows for review\n\n**Y√™u c·∫ßu quy·ªÅn:** ADMIN ho·∫∑c SELLER"
                    }
                },
                {
                    "name": "3. Import from Excel",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Excel import accepted', function () {",
                                    "    pm.expect([200, 201]).to.include(pm.response.code);",
                                    "});",
                                    "",
                                    "const jsonData = pm.response.json();",
                                    "pm.environment.set('importSuccessCount', jsonData.successCount || 0);",
                                    "",
                                    "if (jsonData.createdSchedules && jsonData.createdSchedules.length > 0) {",
                                    "    pm.environment.set('importedScheduleId', jsonData.createdSchedules[0]._id || '');",
                                    "    pm.environment.set('routeId1', jsonData.createdSchedules[0].routeId || pm.environment.get('routeId1') || '');",
                                    "    console.log('‚úÖ Created schedules:', jsonData.createdSchedules.length);",
                                    "}",
                                    "",
                                    "pm.test('At least one schedule created from Excel', function () {",
                                    "    pm.expect(jsonData.successCount || 0).to.be.above(0);",
                                    "});",
                                    "",
                                    "if (jsonData.errors && jsonData.errors.length > 0) {",
                                    "    console.warn('‚ùå Import errors:', jsonData.errors);",
                                    "}",
                                    "if (jsonData.warnings && jsonData.warnings.length > 0) {",
                                    "    console.warn('‚ö†Ô∏è Warnings:', jsonData.warnings);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{adminToken}}"
                            }
                        ],
                        "body": {
                            "mode": "formdata",
                            "formdata": [
                                {
                                    "key": "file",
                                    "type": "file",
                                    "src": "uploads/templates/lich_trinh_import_template.xlsx",
                                    "description": "Excel file with scheduling data. Use validated template from step 2."
                                }
                            ]
                        },
                        "url": {
                            "raw": "{{baseUrl}}/scheduling/import/excel",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "scheduling",
                                "import",
                                "excel"
                            ]
                        },
                        "description": "Import l·ªãch tr√¨nh t·ª´ file Excel ƒë√£ validate.\n\n**Features:**\n- üöÄ Bulk import scheduling data\n- üîç Smart route/bus lookup\n- üõ°Ô∏è Duplicate detection\n- üìû Phone number validation\n- üïê Auto arrival time calculation\n- üìä Comprehensive reporting\n\n**Process:**\n1. Parse Excel file\n2. Validate each row\n3. Check route/bus existence\n4. Create scheduling entries\n5. Generate detailed report\n\n**Response ExcelImportResultDto:**\n- `totalRows`: Total processed\n- `successCount`: Successfully created\n- `errorCount`: Failed rows\n- `createdSchedules`: Array of created entries\n- `errors`: Detailed error list\n- `warnings`: Non-blocking issues\n\n**Y√™u c·∫ßu quy·ªÅn:** ADMIN ho·∫∑c SELLER"
                    }
                }
            ],
            "description": "T√≠nh nƒÉng import/export Excel cho l·ªãch tr√¨nh v·ªõi validation v√† error handling to√†n di·ªán."
        },
        {
            "name": "üí∫ Seat Management",
            "item": [
                {
                    "name": "1. Get Bus Seats",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/seats/bus/{{busId1}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "seats",
                                "bus",
                                "{{busId1}}"
                            ]
                        },
                        "description": "L·∫•y danh s√°ch t·∫•t c·∫£ gh·∫ø c·ªßa 1 xe.\n\n**Response bao g·ªìm:**\n- S·ªë gh·∫ø\n- V·ªã tr√≠ (floor, row, column)\n- Tr·∫°ng th√°i (available/booked/blocked)"
                    }
                },
                {
                    "name": "2. Create Seats for Bus",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{adminToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"seatNo\": \"A01\",\n  \"busId\": \"{{busId1}}\",\n  \"status\": \"EMPTY\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/seats",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "seats"
                            ]
                        },
                        "description": "T·∫°o gh·∫ø cho xe (auto-generated khi t·∫°o xe m·ªõi).\n\n**Y√™u c·∫ßu quy·ªÅn:** ADMIN ho·∫∑c SELLER"
                    }
                },
                {
                    "name": "3. Book Seats",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{customerToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"seatNos\": [\"A01\", \"A02\"]\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/seats/{{busId1}}/seats/book",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "seats",
                                "{{busId1}}",
                                "seats",
                                "book"
                            ]
                        },
                        "description": "ƒê·∫∑t gh·∫ø cho kh√°ch h√†ng.\n\n**Y√™u c·∫ßu quy·ªÅn:** Customer ph·∫£i ƒëƒÉng nh·∫≠p\n\n**Validation:**\n- Gh·∫ø ph·∫£i available\n- Th√¥ng tin h√†nh kh√°ch ƒë·∫ßy ƒë·ªß\n- S·ªë gh·∫ø v√† s·ªë h√†nh kh√°ch ph·∫£i match"
                    }
                },
                {
                    "name": "4. Update Seat Status",
                    "request": {
                        "method": "PATCH",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{adminToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"seatNos\": [\"A01\", \"A02\"],\n  \"status\": \"BLOCKED\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/seats/{{busId1}}/seats/status",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "seats",
                                "{{busId1}}",
                                "seats",
                                "status"
                            ]
                        },
                        "description": "C·∫≠p nh·∫≠t tr·∫°ng th√°i gh·∫ø cho admin/seller.\n\n**Status options:**\n- `EMPTY`: Gh·∫ø tr·ªëng\n- `BOOKED`: ƒê√£ ƒë·∫∑t\n- `BLOCKED`: B·ªã kh√≥a"
                    }
                },
                {
                    "name": "5. Get Seat Details",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/seats/bus/{{busId1}}/seat/A01",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "seats",
                                "bus",
                                "{{busId1}}",
                                "seat",
                                "A01"
                            ]
                        },
                        "description": "L·∫•y th√¥ng tin chi ti·∫øt 1 gh·∫ø c·ª• th·ªÉ."
                    }
                }
            ],
            "description": "Qu·∫£n l√Ω gh·∫ø xe v√† booking cho kh√°ch h√†ng."
        },
        {
            "name": "üë• User Management",
            "item": [
                {
                    "name": "1. Get My Profile",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{customerToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/users/profile",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "users",
                                "profile"
                            ]
                        },
                        "description": "L·∫•y th√¥ng tin profile ng∆∞·ªùi d√πng hi·ªán t·∫°i.\n\n**Y√™u c·∫ßu authentication.**"
                    }
                },
                {
                    "name": "2. Update Profile",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{customerToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"firstName\": \"Nguy·ªÖn VƒÉn\",\n  \"lastName\": \"Updated\",\n  \"phone\": \"0909999999\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/users/profile",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "users",
                                "profile"
                            ]
                        },
                        "description": "C·∫≠p nh·∫≠t th√¥ng tin profile."
                    }
                },
                {
                    "name": "3. Get All Users (Admin)",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{adminToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/users?page=1&limit=10&role=CUSTOMER",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "users"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "10"
                                },
                                {
                                    "key": "role",
                                    "value": "CUSTOMER"
                                }
                            ]
                        },
                        "description": "L·∫•y danh s√°ch t·∫•t c·∫£ users (ch·ªâ ADMIN).\n\n**Filters:**\n- `role`: ADMIN/SELLER/CUSTOMER\n- `status`: ACTIVE/INACTIVE\n- `search`: T√¨m theo t√™n/email"
                    }
                }
            ],
            "description": "Qu·∫£n l√Ω th√¥ng tin ng∆∞·ªùi d√πng v√† profile."
        },
        {
            "name": "üîç Advanced Features",
            "item": [
                {
                    "name": "1. Search Places (OpenStreetMap)",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/stations/search-places?q=B·∫øn xe Mi·ªÅn ƒê√¥ng",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "stations",
                                "search-places"
                            ],
                            "query": [
                                {
                                    "key": "q",
                                    "value": "B·∫øn xe Mi·ªÅn ƒê√¥ng"
                                }
                            ]
                        },
                        "description": "T√¨m ki·∫øm ƒë·ªãa ƒëi·ªÉm tr√™n OpenStreetMap.\n\n**Response PlaceSearchResponseDto:**\n- T√™n ƒë·ªãa ƒëi·ªÉm\n- T·ªça ƒë·ªô GPS\n- ƒê·ªãa ch·ªâ chi ti·∫øt\n- Place type"
                    }
                },
                {
                    "name": "2. Find Nearby Bus Stations",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/stations/nearby-bus-stations?longitude=106.6297&latitude=10.8231&radius=5",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "stations",
                                "nearby-bus-stations"
                            ],
                            "query": [
                                {
                                    "key": "longitude",
                                    "value": "106.6297"
                                },
                                {
                                    "key": "latitude",
                                    "value": "10.8231"
                                },
                                {
                                    "key": "radius",
                                    "value": "5",
                                    "description": "B√°n k√≠nh t√¨m ki·∫øm (km)"
                                }
                            ]
                        },
                        "description": "T√¨m c√°c tr·∫°m xe bu√Ωt g·∫ßn v·ªã tr√≠ t·ª´ OpenStreetMap.\n\n**Useful for suggesting nearby public transport.**"
                    }
                },
                {
                    "name": "3. Bulk Create Schedules",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{adminToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"routeId\": \"{{routeId1}}\",\n  \"busIds\": [\"{{busId1}}\"],\n  \"etd\": \"06:00\",\n  \"startDate\": \"2025-12-26\",\n  \"endDate\": \"2025-12-30\",\n  \"recurringDays\": [\"monday\", \"wednesday\", \"friday\"],\n  \"price\": 120000,\n  \"note\": \"Bulk schedules test\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/scheduling/bulk",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "scheduling",
                                "bulk"
                            ]
                        },
                        "description": "T·∫°o nhi·ªÅu l·ªãch tr√¨nh c√πng l√∫c.\n\n**Useful for creating daily/weekly schedules.**"
                    }
                }
            ],
            "description": "C√°c t√≠nh nƒÉng n√¢ng cao nh∆∞ geolocation v√† bulk operations."
        }
    ],
    "event": [
        {
            "listen": "prerequest",
            "script": {
                "type": "text/javascript",
                "exec": [
                    "// Set base URL if not set",
                    "if (!pm.environment.get('baseUrl')) {",
                    "    pm.environment.set('baseUrl', 'http://localhost:9091/api/v1');",
                    "}",
                    "",
                    "console.log('üöÄ CheckItOut Complete Auto-Flow Collection');",
                    "console.log('üì° Base URL: ' + pm.environment.get('baseUrl'));"
                ]
            }
        },
        {
            "listen": "test",
            "script": {
                "type": "text/javascript",
                "exec": [
                    "// Global test scripts",
                    "const responseTime = pm.response.responseTime;",
                    "const statusCode = pm.response.code;",
                    "",
                    "// Log response info",
                    "console.log('‚è±Ô∏è Response time: ' + responseTime + 'ms');",
                    "console.log('üìä Status code: ' + statusCode);",
                    "",
                    "// Check for common errors",
                    "if (statusCode >= 400) {",
                    "    console.log('‚ùå Error response received');",
                    "    try {",
                    "        const errorData = pm.response.json();",
                    "        if (errorData.message) {",
                    "            console.log('üí¨ Error message: ' + errorData.message);",
                    "        }",
                    "    } catch (e) {",
                    "        console.log('üí¨ Error parsing response JSON');",
                    "    }",
                    "} else {",
                    "    console.log('‚úÖ Request successful');",
                    "}"
                ]
            }
        }
    ],
    "variable": [
        {
            "key": "baseUrl",
            "value": "http://localhost:9091/api/v1",
            "type": "string"
        },
        {
            "key": "adminToken",
            "value": "",
            "type": "string"
        },
        {
            "key": "customerToken",
            "value": "",
            "type": "string"
        },
        {
            "key": "adminId",
            "value": "",
            "type": "string"
        },
        {
            "key": "customerId",
            "value": "",
            "type": "string"
        },
        {
            "key": "stationId1",
            "value": "",
            "type": "string"
        },
        {
            "key": "stationId2",
            "value": "",
            "type": "string"
        },
        {
            "key": "newStationId",
            "value": "",
            "type": "string"
        },
        {
            "key": "routeId1",
            "value": "",
            "type": "string"
        },
        {
            "key": "newRouteId",
            "value": "",
            "type": "string"
        },
        {
            "key": "busId1",
            "value": "",
            "type": "string"
        },
        {
            "key": "scheduleId1",
            "value": "",
            "type": "string"
        },
        {
            "key": "newScheduleId",
            "value": "",
            "type": "string"
        }
    ]
}